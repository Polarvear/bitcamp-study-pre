<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8">
    <title>안녕하세요 게시판입니다.</title>
</head>
<body>
<h1>게시판</h1>
<a href="form.html">게시글 등록</a>
<table id="x-contact-table" border="1">
    <thead>
    <tr>
        <th>제목</th>
        <th>내용</th>
        <th>조회수</th>
        <th>날짜</th>
    </tr>
    </thead>
    <tbody>
    </tbody>
</table>

<script type="text/javascript">
    var tbody = document.querySelector("#x-contact-table tbody")

    fetch("/contact/list")
        .then(function(response) {
            return response.json();
        })
        .then(function(contacts) {
            console.log(contacts);
            for (const contant of contacts) {
                const result = contant.split(' , ')
                const tr = document.createElement("tr")
                // tr.setAttribute('data-no', 'value')
                tr.innerHTML = `<td id="x-td">${result[0]}</td>
                                <td>${result[1]}</td>
                                <td>${result[2]}</td>
                                <td>${result[3]}</td>
                                <button id="x-del-btn">삭제</button>`
                tbody.appendChild(tr);
                const delBtn = document.querySelector('#x-del-btn')
                delBtn.addEventListener('click', (e) => {
                const tdEle = document.querySelector('#x-td')
                    tdEle.remove()

                })

            }
        });

</script>









</body>
</html>